<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>圓玄三中爬蟲飼養日誌</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#4a90e2">
    <!-- 引入 FullCalendar JS -->
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.13/index.global.min.js'></script>
</head>
<body>
    <div id="app-container">
        <!-- 登入視圖 -->
        <div id="login-view" class="view active-view">
            <div class="card">
                <h1>圓玄三中爬蟲飼養日誌</h1>
                <div class="form-group">
                    <input type="text" id="username" placeholder="帳號" autocomplete="username">
                </div>
                <div class="form-group">
                    <input type="password" id="password" placeholder="密碼" autocomplete="current-password">
                </div>
                <button id="login-btn" class="btn-primary">登入</button>
                <p id="error-message" class="error-text"></p>
            </div>
        </div>

        <!-- 主儀表板視圖 -->
        <div id="dashboard-view" class="view">
            <header class="app-header">
                <h2>新增飼養記錄</h2>
                <button id="show-calendar-btn" class="btn-secondary">查看歷史日曆</button>
            </header>
            
            <div class="dashboard-layout">
                <!-- 響應式佈局：手機版的下拉選單 -->
                <div class="mobile-reptile-selector form-group">
                     <label for="reptile-selector-mobile">選擇爬蟲:</label>
                     <select id="reptile-selector-mobile" class="input-field"></select>
                </div>

                <!-- 響應式佈局：平板電腦的側邊欄 -->
                <aside class="sidebar card">
                    <h3>爬蟲列表</h3>
                    <ul id="reptile-list-sidebar"></ul>
                </aside>
                
                <!-- 表單區域 -->
                <main class="main-content card">
                    <form id="log-form">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="record-date">記錄日期:</label>
                                <input type="date" id="record-date" name="記錄日期" class="input-field" required>
                            </div>
                            <div class="form-group">
                                <label for="logger-name">記錄人:</label>
                                <select id="logger-name" name="記錄人" class="input-field" required></select>
                            </div>
                            <div class="form-group full-width">
                                <label for="reptile-name">爬蟲名稱 (此項將由側邊欄或下拉選單自動選擇):</label>
                                <select id="reptile-name" name="爬蟲名稱" class="input-field" required></select>
                            </div>
                            <div class="form-group">
                                <label for="temperature">溫度 (°C):</label>
                                <input type="number" step="0.1" id="temperature" name="溫度" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="humidity">濕度 (%):</label>
                                <input type="number" step="1" id="humidity" name="濕度" class="input-field">
                            </div>
                            <div class="form-group">
                                <label>是否餵食:</label>
                                <select name="是否餵食" class="input-field">
                                    <option>否</option>
                                    <option>是</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="food-type">食物種類:</label>
                                <input type="text" id="food-type" name="食物種類" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="food-amount">食物數量:</label>
                                <input type="number" id="food-amount" name="食物數量" class="input-field">
                            </div>
                            <div class="form-group">
                                <label>是否換水:</label>
                                <select name="是否換水" class="input-field">
                                    <option>是</option>
                                    <option>否</option>
                                </select>
                            </div>
                            <div class="form-group full-width">
                                <label for="notes">備註:</label>
                                <textarea id="notes" name="備註" rows="3" class="input-field"></textarea>
                            </div>
                            <div class="form-group full-width">
                                <label for="file-upload">上傳照片/影片:</label>
                                <input type="file" id="file-upload" class="input-field">
                            </div>
                        </div>
                        <button type="submit" id="submit-btn" class="btn-primary">提交記錄</button>
                        <p id="submit-status" class="status-text"></p>
                    </form>
                </main>
            </div>
        </div>
        
        <!-- 歷史日曆視圖 -->
        <div id="calendar-view" class="view">
             <header class="app-header">
                <h2>歷史日曆</h2>
                <button id="back-to-dashboard-btn" class="btn-secondary">返回儀表板</button>
            </header>
            <div class="card">
                <div class="form-group">
                    <label for="calendar-reptile-filter">篩選爬蟲:</label>
                    <select id="calendar-reptile-filter" class="input-field"></select>
                </div>
                <div id="calendar"></div>
            </div>
        </div>
    </div>
    
    <!-- 彈出式 Modal 視窗 -->
    <div id="details-modal" class="modal">
        <div class="modal-content card">
            <span class="close-button">&times;</span>
            <h3>記錄詳情</h3>
            <div id="modal-body"></div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
